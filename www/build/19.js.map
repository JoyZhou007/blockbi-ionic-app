{"version":3,"sources":["../../src/pages/mission/mission-list.module.ts","../../src/pages/mission/mission-list.ts"],"names":[],"mappings":"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","file":"19.js","sourcesContent":["/**\n * Created by Summer Yang(summer.yang@blockbi.com)\n * on 2017/8/11.\n */\nimport { NgModule } from \"@angular/core\";\nimport { IonicPageModule } from \"ionic-angular\";\nimport { MissionListPage } from \"./mission-list\";\nimport { SharedModule } from \"../../share/shared.module\";\n\n\n@NgModule({\n  declarations: [\n    MissionListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MissionListPage),\n    SharedModule\n  ]\n})\nexport class MissionListPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mission/mission-list.module.ts","import {Component, Inject, OnInit} from \"@angular/core\";\nimport {InfiniteScroll, IonicPage, Loading, LoadingController, NavController, Segment, Refresher} from \"ionic-angular\";\nimport {MissionModelService} from \"../../share/service/model/mission-model.service\";\nimport * as MissionConfig from \"../../share/config/mission.config\";\nimport {MissionDetail, MissionListFilter} from \"../../share/entity/mission-entity\";\nimport {TipsMission} from \"../../share/entity/user-entity\";\n\n@IonicPage({\n  name: 'mission-list',\n  segment: 'mission-list'\n})\n@Component({\n  templateUrl: 'mission-list.html'\n})\nexport class MissionListPage implements OnInit {\n  //类型选择\n  missionType: string = 'all';\n  //状态选择\n  missionStatus: string = 'all';\n  missionObjList: TipsMission[] = [];\n  //mission的type\n  filterMissionTypeDefault: string = MissionConfig.MISSION_TYPE_ALL;\n  //删选自己\n  filterIsSelfDefault: string = '-1';\n  loading: Loading;\n  currentTypeIdx: number = -1; //-1是all\n  //搜索mission\n  public missionKeywords: string = '';\n\n  public progress: string = 'all';\n\n  public typeSlides: Array<{\n    name: string,\n    cls: string\n  }>;\n\n  // filter相关\n  public tplFilterData: MissionListFilter;\n\n  constructor(public navCtrl: NavController,\n              public missionModelService: MissionModelService,\n              public loadingCtrl: LoadingController,\n              @Inject('app.config') public config: any,\n              @Inject('date.service') public dateService: any,) {\n\n  }\n\n  ngOnInit(): void {\n    this.typeSlides = [\n      {\n        name: 'Project',\n        cls: ''\n      },\n      {\n        name: 'Application',\n        cls: ''\n      },\n      {\n        name: 'Task',\n        cls: ''\n      },\n      {\n        name: 'Assignment',\n        cls: ''\n      },\n      {\n        name: 'Meeting',\n        cls: ''\n      },\n    ];\n\n    this.initTplFilter();\n    this.fetchMissionListInterface();\n  }\n\n  private initTplFilter(): void {\n    this.filterMissionTypeDefault = MissionConfig.MISSION_TYPE_ALL;\n    this.filterIsSelfDefault = '-1';\n    this.progress = 'all';\n    this.currentTypeIdx = -1;\n    this.tplFilterData = {\n      type: [this.filterMissionTypeDefault],\n      is_self: this.filterIsSelfDefault,\n      page_no_todo: '1',\n      page_no_doing: '1',\n      page_no_done: '1',\n      page_no_storage: '1',\n      page_no_schedule: '1',\n      current_date: new Date().toUTCString(),\n      page_no_pause: '1',\n    };\n  }\n\n  public segmentChanged(progress: Segment): void {\n    switch (progress.value) {\n      case 'all':\n        this.missionStatus = 'all';\n        break;\n      case 'todo':\n        this.missionStatus = MissionConfig.MISSION_STATUS_TODO;\n        break;\n      case 'doing':\n        this.missionStatus = MissionConfig.MISSION_STATUS_DOING;\n        break;\n      case 'done':\n        this.missionStatus = MissionConfig.MISSION_STATUS_DONE;\n        break;\n    }\n    //重置status filter\n    this.currentTypeIdx = -1;\n    this.missionType = 'all';\n    this.progress = 'all';\n  }\n\n  /**\n   * 设置filter mission type\n   * @param event\n   * @param data\n   */\n  // setFilterMissionType(event: any, data: string) {\n  //   event.stopPropagation();\n  //   if (data != this.tplFilterData.type[0]) {\n  //     this.filterHasChanged = true;\n  //     this.resetFilter();\n  //   }\n  //   this.tplFilterData.type = [data];\n  //   this.setFilterTypeTitle();\n  //   if (this.showMissionListTable) {\n  //     this.fetchMissionTableInterface();\n  //   } else {\n  //     this.initMission();\n  //   }\n  // }\n\n  /**\n   *\n   * @param {MouseEvent} event\n   * @param slide\n   * @param {number} i\n   */\n  public clickSwitchType(event: MouseEvent, slide: {\n    name: string,\n    cls: string\n  }, i: number): void {\n    event.stopPropagation();\n    if (this.currentTypeIdx === i) {\n      this.currentTypeIdx = -1;\n    } else {\n      this.currentTypeIdx = i;\n    }\n    this.filterType(slide);\n  }\n\n\n  /**\n   * 加载器\n   * 开始加载\n   * @param content 内容\n   * @param spinner\n   */\n  public presentLoading(content?: string, spinner?: string): void {\n    if (!content) {\n      content = 'Please Wait...';\n    }\n    if (!spinner) {\n      spinner = 'bubbles';\n    }\n    this.loading = this.loadingCtrl.create({\n      content: content,\n      spinner: spinner\n    });\n\n    this.loading.present();\n  }\n\n  /**\n   * 结束加载\n   */\n  public dismissLoading(): void {\n    this.loading.dismiss();\n  }\n\n  /**\n   * 请求mission list接口\n   */\n  private fetchMissionListInterface(refresher?: Refresher): void {\n    this.presentLoading();\n    let request = () => {\n      return new Promise((resolve, reject) => {\n        this.missionModelService.getMissionList({\n          data: {\n            mode: MissionConfig.MISSION_MODE_SCHEDULE,\n            filter: this.tplFilterData,\n            search_keyword: this.missionKeywords ? this.missionKeywords : ''\n          }\n        }, (response: any) => {\n          this.dismissLoading();\n          if (response.status === 1) {\n            return resolve(response);\n          } else {\n            return reject(new Error(response.message));\n          }\n        });\n      });\n    };\n    request().then((response: any) => {\n      if (response.hasOwnProperty('data') && response.data.hasOwnProperty('missions_schedule')) {\n        let resData = response.data;\n        this.missionObjList = [];\n        let missionObjList = [];\n        for (let j in resData.missions_schedule) {\n          if (resData.missions_schedule.hasOwnProperty(j)) {\n\n            let missionObj: MissionDetail = this.initTipsMission();\n            this.dealMission(missionObj, resData.missions_schedule[j]);\n            missionObjList.push(missionObj);\n          }\n        }\n        this.missionObjList = this.missionObjList.concat(missionObjList);\n      }\n      if (refresher) {\n        refresher.complete();\n      }\n    }).catch((error: Error) => {\n      console.log(error);\n    })\n\n  }\n\n\n  /**\n   * 初始化mission\n   * @returns {TipsMission}\n   */\n  public initTipsMission(): TipsMission {\n    let obj: TipsMission = {\n        created_timestamp: 0, //创建时间timestamp\n        createDetailTime: '', //显示用\n        has_alarm: 0, // 1 or 0\n        alarm_id: '',\n        type: '', // 1 个人 2公司\n        effective_time: '',\n        effective_time_display: '',\n        creator_info: { //创建mission信息\n          user_info: {\n            work_name: '',\n            user_profile_path: '',\n            uid: ''\n          }\n        },\n        name: '',\n        status: '',\n        id: '',\n        real_start_timestamp: 0, //开始时间\n        real_end_timestamp: 0, //结束时间\n        level: '',\n        startShow: {  //显示开始时间\n          day: '',\n          month: '',\n          hour: ''\n        },\n        endShow: {  //显示开始时间\n          day: '',\n          month: '',\n          hour: ''\n        },\n        missionType: '',\n        description: '',\n        endIsPending: false,\n        // 时间进度条相关信息\n        todoProgressTime: '', //项目跨度时间长度(透明部分)\n        doingProgressTime: '',//项目跨度时间长度(正在进行部分)\n        doneProgressTime: '',//项目跨度时间长度(已经完成部分)\n        fillLengthTodo: '100',\n        fillLengthDoing: '100',\n        fillLengthDone: '100',\n        fillColorTodo: 'rgba(94, 102, 209, .6)',\n        fillColorDoing: '#5E66D1',\n        fillColorDone: '#4C4B63',\n        fillColorLink: '#9193AB',\n        fillColorDoneAppli: '#4C4B63',\n        fillColorProAppli: '#8EE3F5',\n        fillColorWhite: \"#fff\",\n        FillColorLine: '#FBFBFE',\n      }\n    ;\n    return obj;\n  }\n\n  /**\n   *前端用tips mission 对象\n   * @param missionObj\n   * @param tipsObj\n   * @returns {TipsMission}\n   */\n  public dealMission(missionObj: TipsMission, tipsObj: any): void {\n    Object.assign(missionObj, tipsObj);\n\n    missionObj.createDetailTime = this.dateService.dateFormat(new Date(missionObj.created_timestamp * 1000), 'hh:mm yyyy/MM/dd');\n    missionObj.missionType = this.getTypeTitle(missionObj.type);\n    this.calculateProgress(missionObj);\n  }\n\n  /**\n   * 计算要绘制的进度条, 开始时间, 结束时间\n   * todo状态\n   * @param tplObj\n   */\n  calculateProgress(tplObj: any) {\n    // 对于开始时间，首先检查是否有连接其他mission\n    let lInfo = tplObj.link_info;\n    //如果有, 开始时间为连接到该mission的link\n    if (lInfo.hasOwnProperty('before') && Array.isArray(lInfo.before) && lInfo.hasOwnProperty('0') && (typeof lInfo.before[0] !== 'undefined')) {\n      let beforeMission = lInfo.before[0];\n      tplObj.startIsLink = true;\n      tplObj.initStartLinkInfo(beforeMission);\n    } else {\n      let startTime: number = 0;\n      // 对于 doing和done的开始时间应该检查实际开始时间\n      // todo无real_start时间\n      switch (tplObj.mission_status) {\n        case MissionConfig.MISSION_STATUS_DONE:\n          startTime = tplObj.real_start_timestamp;\n          break;\n        case MissionConfig.MISSION_STATUS_DOING:\n\n        case MissionConfig.MISSION_STATUS_PAUSE:\n          startTime = tplObj.real_start_timestamp;\n          break;\n        case MissionConfig.MISSION_STATUS_RESET:\n          tplObj.endIsPending = true;\n          break;\n        case MissionConfig.MISSION_STATUS_TODO:\n        case MissionConfig.MISSION_STATUS_PENDING:\n        default:\n          startTime = parseInt(tplObj.start_timestamp);\n          break;\n      }\n      tplObj.startShow.day = this.dateService.dateFormat(new Date(startTime * 1000), 'dd');\n      tplObj.startShow.month = this.dateService.dateFormat(new Date(startTime * 1000), 'MMM yyyy');\n      tplObj.startShow.hour = this.dateService.dateFormat(new Date(startTime * 1000), 'hh:mm ddd');\n    }\n    // 对于结束时间，只看有没有设置时间\n    // 如果有，显示具体数值\n    // 如果没有，显示pending\n    if ((tplObj.end === MissionConfig.MISSION_TIME_NULL || tplObj.end === '')\n      && tplObj.mission_status !== MissionConfig.MISSION_STATUS_DONE\n      && tplObj.mission_status !== MissionConfig.MISSION_STATUS_STORAGE\n    ) {\n      tplObj.endIsPending = true;\n    } else {\n      tplObj.endIsPending = false;\n      let endTime = tplObj.end_timestamp;\n      switch (tplObj.mission_status) {\n        case MissionConfig.MISSION_STATUS_DONE:\n          endTime = tplObj.real_end_timestamp;\n          break;\n        case MissionConfig.MISSION_STATUS_TODO:\n        case MissionConfig.MISSION_STATUS_PENDING:\n        case MissionConfig.MISSION_STATUS_DOING:\n        case MissionConfig.MISSION_STATUS_RESET:\n        case MissionConfig.MISSION_STATUS_PAUSE:\n        default:\n          endTime = tplObj.end_timestamp;\n          break;\n      }\n      tplObj.endShow.day = this.dateService.dateFormat(new Date(endTime * 1000), 'dd');\n      tplObj.endShow.month = this.dateService.dateFormat(new Date(endTime * 1000), 'MMM yyyy');\n      tplObj.endShow.hour = this.dateService.dateFormat(new Date(endTime * 1000), 'hh:mm ddd');\n    }\n    /**\n     * 计算进度文字\n     */\n    switch (tplObj.mission_status) {\n      // 对于todo状态只要有开始或者结束时间的任一为不确定，则进度时间为?\n      case MissionConfig.MISSION_STATUS_TODO:\n      case MissionConfig.MISSION_STATUS_RESET:\n      case MissionConfig.MISSION_STATUS_PENDING:\n        if (tplObj.endIsPending || tplObj.startIsLink) {\n          tplObj.todoProgressTime = MissionConfig.MISSION_PROGRESS_TIME_DEFAULT;\n        } else {\n          let diffInfo = this.dateDiff(tplObj.end, tplObj.start);\n          tplObj.todoProgressTime = diffInfo.gapTime + diffInfo.diffUnit;\n        }\n        break;\n      // 对于done状态, 取的是实际开始与实际结束结束时间作为进度条\n      case MissionConfig.MISSION_STATUS_DONE:\n      case MissionConfig.MISSION_STATUS_STORAGE:\n        let diffInfo = this.dateDiff(tplObj.real_end ? tplObj.real_end : tplObj.real_end_timestamp, tplObj.real_start);\n        tplObj.doneProgressTime = diffInfo.gapTime + diffInfo.diffUnit;\n        break;\n      // 对于doing状态，取的是实际开始时间到当前时间为doing状态\n      // 如果结束为pending 无透明部分\n      case MissionConfig.MISSION_STATUS_DOING:\n      case MissionConfig.MISSION_STATUS_PAUSE:\n\n        let nowDate = this.dateService.getNowUTCString();\n        let endDate = tplObj.end ? tplObj.end : nowDate;\n        if (tplObj.endIsPending) {\n          let diffInfo = this.dateDiff(nowDate, tplObj.real_start);\n          tplObj.doingProgressTime = diffInfo.gapTime + diffInfo.diffUnit;\n        } else {\n          // 那么取\n          let diffInfoDoing = this.dateDiff(nowDate, tplObj.real_start);\n          tplObj.doingProgressTime = diffInfoDoing.gapTime + diffInfoDoing.diffUnit;\n          let diffInfoTodo = this.dateDiff(endDate, tplObj.real_start);\n          tplObj.todoProgressTime = diffInfoTodo.gapTime + diffInfoTodo.diffUnit;\n          let p = diffInfoDoing.gapTime / diffInfoTodo.gapTime * 100;\n          if (p < 0) {\n            p = 0;\n          } else if (p > 100) {\n            // 如果状态仍然是doing, 但是今天已经超过了设置的end时间, 只显示100%\n            p = 100;\n          }\n          tplObj.fillLengthDoing = p.toString();\n        }\n    }\n  }\n\n  /**\n   * 时间差, 允许显示单位为mo - 月, h - 小时, d - 天\n   * @param d2 timestamp 结束时间\n   * @param d1 timestamp 开始时间\n   * @returns {{gapTime: number, diffUnit: string}}\n   */\n  public dateDiff(d2: string, d1: string) {\n    if (typeof d1 === 'string') {\n      d1 = d1.replace(/-/g, '/');\n    }\n    if (typeof d2 === 'string') {\n      d2 = d2.replace(/-/g, '/');\n    }\n    let D1 = new Date(d1);\n    let D2 = new Date(d2);\n    let gapTime = (Date.parse(d2) - Date.parse(d1)) / 1000;\n    let diffStatus = 'hour';\n    let diffUnit = '';\n    if (gapTime > (3600 * 24 * 30 * 12)) {\n      diffStatus = 'year';\n    } else if (gapTime > (3600 * 24 * 30)) {\n      diffStatus = 'month';\n    } else if (gapTime > (3600 * 24)) {\n      diffStatus = 'day';\n    } else if (gapTime < 3600) {\n      diffStatus = 'minute';\n    }\n    switch (diffStatus) {\n      case 'minute':\n        diffUnit = 'm';\n        gapTime = gapTime / 60;\n        break;\n      case 'hour':\n        diffUnit = 'h';\n        gapTime = gapTime / (24 * 3600 * 30);\n        break;\n      case 'month':\n        let d1Y = D1.getFullYear();\n        let d2Y = D2.getFullYear();\n        let d1M = D1.getMonth();\n        let d2M = D2.getMonth();\n        diffUnit = 'mo';\n        gapTime = (d2M + 12 * d2Y) - ( d1M + 12 * d1Y);\n        break;\n      case 'year':\n        diffUnit = 'y';\n        gapTime = D2.getFullYear() - D1.getFullYear();\n        break;\n      case 'day':\n      default:\n        diffUnit = 'd';\n        gapTime = gapTime / (24 * 3600);\n        break;\n    }\n    let gapTimeStr = Math.ceil(gapTime);\n    return {\n      gapTime: gapTimeStr.toString() !== 'NaN' ? gapTimeStr : -1,\n      diffUnit: diffUnit\n    }\n  };\n\n  /**\n   * 获取mission类型\n   * @param type\n   * @param useForClass\n   * @returns {string}\n   */\n  public getTypeTitle(type: any, useForClass?: boolean): string {\n    let title = '';\n    let c = (typeof useForClass !== 'undefined');\n    if (typeof type !== 'undefined' && type !== '') {\n      switch (type) {\n        case MissionConfig.MISSION_TYPE_APPLICATION:\n          title = MissionConfig.MISSION_TYPE_APPLICATION_TEXT;\n          break;\n        case MissionConfig.MISSION_TYPE_TASK:\n          title = MissionConfig.MISSION_TYPE_TASK_TEXT;\n          break;\n        case MissionConfig.MISSION_TYPE_MEETING:\n          title = MissionConfig.MISSION_TYPE_MEETING_TEXT;\n          break;\n        case MissionConfig.MISSION_TYPE_ASSIGNMENT:\n          title = MissionConfig.MISSION_TYPE_ASSIGNMENT_TEXT;\n          break;\n        case MissionConfig.MISSION_TYPE_PROJECT:\n          title = MissionConfig.MISSION_TYPE_PROJECT_TEXT;\n          break;\n      }\n    }\n    if (c) {\n      //去空格 转小写\n      title = title.toLowerCase().replace(/(^\\s+)|(\\s+$)/g, \"\");\n    }\n    return title;\n  }\n\n\n  /**\n   * 向下滚动加载\n   * @param {InfiniteScroll} infiniteScroll\n   * @returns {Promise<any>}\n   */\n  public doInfinite(infiniteScroll: InfiniteScroll) {\n    console.log('Begin async operation', infiniteScroll);\n    return new Promise(() => {\n      this.tplFilterData.page_no_schedule = (parseInt(this.tplFilterData.page_no_schedule) + 1).toString();\n\n      this.loadingMore(infiniteScroll);\n    })\n\n\n  }\n\n  /**\n   * 加载更多的mission\n   * @param {InfiniteScroll} infiniteScroll\n   */\n  private loadingMore(infiniteScroll: InfiniteScroll): void {\n    let request = () => {\n      return new Promise((resolve, reject) => {\n        this.missionModelService.getMissionPagerList({\n          data: {\n            mode: MissionConfig.MISSION_MODE_SCHEDULE,\n            filter: this.tplFilterData,\n            search_keyword: this.missionKeywords ? this.missionKeywords : '',\n            filter_status: ''\n          }\n        }, (response: any) => {\n          if (response.status === 1) {\n            return resolve(response);\n          } else {\n            reject(new Error(response.message));\n          }\n\n        })\n      })\n    };\n\n    request().then((response: any) => {\n      if (response.hasOwnProperty('data') && Array.isArray(response.data)) {\n        let resData = response.data;\n        let missionObjList = [];\n        for (let j in resData) {\n          if (resData.hasOwnProperty(j)) {\n            let missionObj: MissionDetail = this.initTipsMission();\n            this.dealMission(missionObj, resData[j]);\n            missionObjList.push(missionObj);\n          }\n        }\n        this.missionObjList = this.missionObjList.concat(missionObjList);\n      } else {\n        infiniteScroll.enable(false);\n      }\n      infiniteScroll.complete();\n    }).catch((error: Error) => {\n      console.log(error)\n    })\n  }\n\n\n  /**\n   * 向上拉 刷新页面\n   * @param refresher\n   */\n  public doRefresh(refresher): Promise<any> {\n    // console.log('Begin async operation', refresher);\n    return new Promise(() => {\n      this.initTplFilter();\n      this.fetchMissionListInterface(refresher);\n    })\n\n  }\n\n\n  /**\n   * filter mission 的类型\n   * @param slide\n   */\n  private filterType(slide: { name: string; cls: string }): void {\n    if (this.currentTypeIdx === -1) {\n      this.missionType = 'all';\n    } else {\n      switch (slide.name) {\n        case 'Project':\n          this.missionType = MissionConfig.MISSION_TYPE_PROJECT;\n          break;\n        case 'Application':\n          this.missionType = MissionConfig.MISSION_TYPE_APPLICATION;\n          break;\n        case 'Task':\n          this.missionType = MissionConfig.MISSION_TYPE_TASK;\n          break;\n        case 'Assignment':\n          this.missionType = MissionConfig.MISSION_TYPE_ASSIGNMENT;\n          break;\n        case 'Meeting':\n          this.missionType = MissionConfig.MISSION_TYPE_MEETING;\n          break;\n      }\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mission/mission-list.ts"],"sourceRoot":""}