{"version":3,"sources":["../../src/pages/invite-people/invite-people.module.ts","../../src/pages/invite-people/invite-people.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport {IonicPageModule} from \"ionic-angular\";\nimport {InvitePeopleComponent} from \"./invite-people\";\n@NgModule({\n\tdeclarations: [InvitePeopleComponent],\n\timports: [\n    IonicPageModule.forChild(InvitePeopleComponent)\n  ],\n})\nexport class InvitePeopleModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/invite-people/invite-people.module.ts","import {Component, Inject, OnInit, ViewChild} from '@angular/core';\nimport {IonicPage, Loading, LoadingController, NavController, Slides} from \"ionic-angular\";\nimport {UserModelService} from \"../../share/service/model/user-model.service\";\n/**\n * Generated class for the InvitePeopleComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n\n@IonicPage({\n  name: 'invite-people',\n  segment: 'invite-people',\n})\n@Component({\n  selector: 'invite-people',\n  templateUrl: 'invite-people.html'\n})\nexport class InvitePeopleComponent implements OnInit {\n\n  public inviteList: Array<{ email: string, errorText: string }> = [{email: '', errorText: ''}];\n  public emailList: string [] = [];\n  public email_error: any = {};\n\n  @ViewChild(Slides) slides: Slides;\n  //显示send按钮\n  public showSendBtn: boolean = false;\n  private loading: Loading;\n\n  constructor(public userModelService: UserModelService,\n              public nav: NavController,\n              public loadingCtrl: LoadingController,\n              @Inject('user.service') public userService: any,) {\n    console.log('Hello InvitePeopleComponent Component');\n  }\n\n  ngOnInit(): void {\n    this.slides.lockSwipes(true);\n\n\n  }\n\n  /**\n   * 点击添加邀请人输入框\n   * @param {MouseEvent} event\n   */\n  public clickAddInvitees(event: MouseEvent): void {\n    event.stopPropagation();\n    this.inviteList.push({email: '', errorText: ''});\n  }\n\n  /**\n   *  点击删除邀请人框\n   * @param {MouseEvent} event\n   * @param {number} i\n   */\n  public clickDeleteInput(event: MouseEvent, i: number): void {\n    event.stopPropagation();\n    if (this.inviteList.hasOwnProperty(i)) {\n      this.inviteList.splice(i, 1);\n    }\n  }\n\n  /**\n   * 点击发送\n   */\n  public sendData(event: MouseEvent) {\n    event.stopPropagation();\n    if (!this.checkValid()) {\n      return false;\n    } else {\n      this.removeRepeat();\n      let formData = [];\n      formData = this.emailList.map((value) => {\n        return {email: value};\n      });\n      this.userModelService.invitePeoples({\n        data: formData,\n        lang: this.userService.getLanguageNum()\n      }, (response: any) => {\n        if (response.status === 1) {\n          // this.inviteList = [{email: '', errorText: ''}];\n          this.presentLoading();\n          this.emailList = [];\n          this.showSendBtn = false;\n          this.nav.pop();\n        } else {\n          // this.inviteList = [{email: '', errorText: ''}];\n          this.emailList = [];\n          this.email_error.show = true;\n          this.email_error.text = response.message;\n          setTimeout(() => {\n            this.email_error.show = false;\n          }, 1000)\n\n        }\n      })\n    }\n  }\n\n  public inputBlur(email: string) {\n    let regEmail = /^[a-zA-Z0-9]+([._\\\\-]*[a-zA-Z0-9])*@([a-zA-Z0-9]+[-a-zA-Z0-9]*[a-zA-Z0-9]+.){1,63}[a-zA-Z0-9]+$/;\n    if (!email) {\n      return {\n        valid: false,\n        errorText: 'email is required'\n      };\n    } else if (!regEmail.test(email)) {\n      return {\n        valid: false,\n        errorText: 'email is invalid'\n      };\n    } else {\n      return {\n        valid: true,\n        errorText: ''\n      };\n    }\n  }\n\n  /**\n   * 验证文本框正确性\n   * @returns {boolean}\n   */\n  checkValid() {\n    let result = true;\n    let arr = [];\n    this.inviteList.forEach((value, index, array) => {\n      if (value.email) {\n        arr.push(value);\n      }\n    });\n    if (!arr.length) {\n      arr = [{email: '', errorText: ''}];\n      result = false;\n    }\n    this.inviteList = arr;\n\n    this.inviteList.forEach((value, index, array) => {\n      if (!this.inputBlur(value.email.trim()).valid) {\n        result = false;\n        value.errorText = this.inputBlur(value.email).errorText;\n      }\n    });\n\n    return result;\n  }\n\n  /**\n   * 去掉重复的email\n   */\n  private removeRepeat() {\n    //去掉 重复\n    this.emailList = this.inviteList.map((value) => {\n      return value.email.trim();\n    });\n    this.emailList = this.emailList.filter((value, index, array) => {\n      return array.indexOf(value) === index;\n    });\n  }\n\n  /**\n   * 点击按钮跳转到发送email页面\n   * @param {MouseEvent} event\n   */\n  public clickTurnEmail(event: MouseEvent): void {\n    event.stopPropagation();\n    this.slides.lockSwipes(false);\n    this.slides.slideTo(1);\n    this.slides.lockSwipes(true);\n    this.showSendBtn = true;\n  }\n\n\n  /**\n   * 加载器\n   * 开始加载\n   * @param content 内容\n   * @param spinner\n   */\n  public presentLoading(content?: string): void {\n    if (!content) {\n      content = 'Send Success';\n    }\n    this.loading = this.loadingCtrl.create({\n      content: content,\n      spinner: 'hide',\n      duration: 500\n\n    });\n\n    this.loading.present();\n  }\n\n\n  public clickTurnContact(event:MouseEvent): void {\n    event.stopPropagation();\n    // let contact: Contact = this.contacts.create();\n    //\n    // contact.name = new ContactName(null, 'Smith', 'John');\n    // contact.phoneNumbers = [new ContactField('mobile', '6471234567')];\n    // contact.save().then(\n    //   () => console.log('Contact saved!', contact),\n    //   (error: any) => console.error('Error saving contact.', error)\n    // );\n  }\n\n  /**\n   * 返回前一页\n   * @param {MouseEvent} event\n   */\n  public clickToPrevPage(event: MouseEvent): void {\n    event.stopPropagation();\n    if(this.slides.getActiveIndex()!==0){\n      this.slides.lockSwipes(false);\n      this.slides.slidePrev();\n      this.slides.lockSwipes(true);\n    } else {\n      this.nav.pop();\n    }\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/invite-people/invite-people.ts"],"sourceRoot":""}