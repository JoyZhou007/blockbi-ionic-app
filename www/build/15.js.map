{"version":3,"sources":["../../src/pages/tips-new/tips-new.module.ts","../../src/share/service/model/alarm-model.service.ts","../../src/pages/tips-new/tips-new.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,sCAAyC;AACzC,+CAAgD;AAChD,4CAAyC;AACzC,gDAAuD;AAWvD,IAAa,iBAAiB,GAA9B;CAAiC;AAApB,iBAAiB;IAT7B,eAAQ,CAAC;QACR,YAAY,EAAE;YACZ,sBAAW;SACZ;QACD,OAAO,EAAE;YACP,4BAAY;YACZ,+BAAe,CAAC,QAAQ,CAAC,sBAAW,CAAC;SACtC;KACF,CAAC;GACW,iBAAiB,CAAG;AAApB,8CAAiB;;;;;;;;;;;;;;;;;;;;;;;ACd9B,sCAAiD;AACjD,qDAAsD;AACtD,8CAAgD;AAEhD,iBAAU,EAAE;AACZ,IAAa,iBAAiB,GAA9B,uBAA+B,SAAQ,qCAAgB;IAErD,YAAuC,GAAe;QACpD,KAAK,CAAC,GAAG,CAAC,CAAC;QAD0B,QAAG,GAAH,GAAG,CAAY;IAEtD,CAAC;IACD,MAAM;IACN,QAAQ,CAAC,IAAU,EAAE,QAAc;QACjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IAClD,CAAC;IACD,MAAM;IACN,WAAW,CAAC,IAAS,EAAE,QAAa;QAClC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IACD,MAAM;IACN,WAAW,CAAC,IAAS,EAAE,QAAa;QAClC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,EAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACpD,CAAC;CACF;AAjBY,iBAAiB;IAEf,wBAAM,CAAC,wBAAU,CAAC;qCAAa,wBAAU;GAF3C,iBAAiB,CAiB7B;AAjBY,8CAAiB;;;;;;;;;;;;;;;;;;;;;;;ACL9B,sCAA2D;AAC3D,+CAAmG;AACnG,iDAAqE;AACrE,qDAA6E;AAG7E,oDAAqE;AACrE,wCAAkE;AAClE,uDAAgF;AAEhF;;;;;GAKG;AAQH,IAAa,WAAW,GAAxB;IAeE,YAAmB,OAAsB,EACtB,SAA0B,EAC1B,SAA0B,EAC1B,WAAwB,EACC,WAAgB,EACzC,SAAoB,EACnB,KAAa,EACQ,MAAW,EACT,WAAgB,EACxC,iBAAoC,EACpC,gBAAkC;QAVlC,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAiB;QAC1B,cAAS,GAAT,SAAS,CAAiB;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACC,gBAAW,GAAX,WAAW,CAAK;QACzC,cAAS,GAAT,SAAS,CAAW;QACnB,UAAK,GAAL,KAAK,CAAQ;QACQ,WAAM,GAAN,MAAM,CAAK;QACT,gBAAW,GAAX,WAAW,CAAK;QACxC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAxB9C,YAAO,GAAW,EAAE,CAAC;QAMpB,eAAU,GAAY,KAAK,CAAC;QAC5B,iBAAY,GAAW,CAAC,CAAC,CAAC;QAC1B,gBAAW,GAAe,EAAE,CAAC;QAC7B,eAAU,GAAkB,EAAE,CAAC;QAgBrC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QACtC;;;;YAII;QACJ,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAChD,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;YACpF,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,YAAY,CAAC;YACzD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC;YACpD,aAAa;YACb,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,IAAS;gBAC9D,IAAI,GAAG,GAAsB,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACtD,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;gBAClB,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC;gBACf,GAAG,CAAC,UAAU,GAAG,EAAE,CAAC;gBACpB,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC;gBACrB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBAC3E,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;gBAC1D,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;gBACjG,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBACzE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC7B,CAAC,CAAC,CAAC;QAEL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QAC1B,CAAC;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED;;;OAGG;IACH,gBAAgB,CAAC,KAAU;QACzB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,eAAe,EAAE,CAAC;QAC1B,CAAC;QACD,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,qCAAqB,EAAE;YACvD,IAAI,EAAE,IAAI,CAAC,iBAAiB;YAC5B,aAAa,EAAE,UAAU;YACzB,aAAa,EAAE,IAAI,CAAC,WAAW;SAChC,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,cAAc;QACZ,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC,WAIhC;YACC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;gBAC9C,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC;YACD,WAAW;QACb,CAAC,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,oBAAoB;QAClB,IAAI,CAAC,iBAAiB,GAAG;YACvB,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,EAAE;SACb,CAAC;QACF,IAAI,QAAQ,GAAmB,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC1D,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAC,EAAE,EAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAC,CAAC,CAAC;QACpG,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAC,CAAC,CAAC;QACpF,IAAI,gBAAgB,GAA6B,EAAE,CAAC;QACpD,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACvE,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,YAAY,EAAE,OAAO,EAAE,YAAY,EAAE,SAAS,EAAE,UAAU,EAAC,CAAC,CAAC;QAC5F,IAAI,cAAc,GAA6B,EAAE,CAAC;QAClD,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,UAAU,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;QAC7E,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,UAAU,EAAC,CAAC,CAAC;QACxF,IAAI,YAAY,GAA6B,EAAE,CAAC;QAChD,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,YAAY,CAAC,CAAC;QACvE,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,gBAAgB,CAAC;QAC7D,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,cAAc,CAAC;QAC/D,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,YAAY,CAAC;QAC3D,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,QAAQ,CAAC;QAC3C,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAChD,CAAC;IAED;;;;;;OAMG;IACH,eAAe,CAAC,GAAW,EAAE,KAAa,EAAE,UAAkB,EAAE,OAAY;QAC1E,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/C,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,IAAS;YACtC,IAAI,GAAG,GAAsB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACtD,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC;YAChC,GAAG,CAAC,KAAK,GAAG,KAAK,CAAC;YAClB,GAAG,CAAC,UAAU,GAAG,UAAU,CAAC;YAC5B,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YAC3E,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;YAC1D,GAAG,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;YACjG,GAAG,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YACzE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;OAGG;IACH,MAAM;QACJ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YACvB,MAAM,CAAC;QACT,CAAC;QACD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACrB,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IAED;;OAEG;IACH,QAAQ;QACN,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;QAC5C,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACpD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;YAClD,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YACpD,IAAI,OAAO,GAAG;gBACZ,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG;aACzC,CAAC;YACF,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,EAAE,CAAC,QAAQ;gBACzD,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,sBAAsB,CAAC,CAAC;gBAC9C,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBACrC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAChC,KAAK,EAAE,mBAAmB;wBAC1B,QAAQ,EAAE,cAAc;wBACxB,OAAO,EAAE;4BACP;gCACE,IAAI,EAAE,IAAI;gCACV,OAAO,EAAE;oCACP,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;oCAClC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;oCAC9B,QAAQ;oCACR,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,mCAAe,CAAC,WAAW,EAAE;wCAC9C,KAAK,EAAE,aAAa;wCACpB,IAAI,EAAE,EAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,YAAY,EAAC;qCAC5E,CAAC,CAAC;gCACL,CAAC;6BACF;yBACF;qBACF,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,KAAK,CAAC,aAAa,CAAC,CAAC;gBACvB,CAAC;YACH,CAAC,CAAC;QACJ,CAAC;IACH,CAAC;IAED;;OAEG;IACH,OAAO;QACL,IAAI,OAAO,GAAG;YACZ,SAAS,EAAE,IAAI,CAAC,OAAO;YACvB,MAAM,EAAE,CAAC;YACT,WAAW,EAAE,IAAI,CAAC,UAAU;YAC5B,UAAU,EAAE,IAAI;YAChB,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;YAC/B,KAAK,EAAE,EAAE;SACV,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,OAAO,EAAC,EAAE,CAAC,QAAQ;YACtD,EAAE,CAAC,CAAC,QAAQ,IAAI,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1E,EAAE,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACpC,OAAO,CAAC,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC;oBAC5B,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;oBAClC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;oBAClC,QAAQ;oBACR,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,mCAAe,CAAC,QAAQ,EAAE,EAAC,KAAK,EAAE,WAAW,EAAE,IAAI,EAAE,OAAO,EAAC,CAAC,CAAC;gBACpF,CAAC;YACH,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,eAAe;YACjB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;OAEG;IACH,SAAS;QACP,yEAAyE;QACzE,8BAA8B;QAC9B,qBAAqB;QACrB,wBAAwB;QACxB,wCAAwC;QACxC,8BAA8B;QAC9B,4DAA4D;QAC5D,wDAAwD;QACxD,UAAU;QACV,EAAE;QACF,eAAe;QACf,MAAM;QACN,MAAM;IACR,CAAC;IAED,mBAAmB;QACjB,MAAM,CAAC;YACL,YAAY,EAAE,IAAI;YAClB,UAAU,EAAE,IAAI;YAChB,KAAK,EAAE,EAAE;YACT,UAAU,EAAE,EAAE;YACd,QAAQ,EAAE,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,KAAK;YACxC,QAAQ,EAAE,QAAQ;SACnB,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,MAAM,CAAC;YACL,EAAE,EAAE,EAAE;YACN,SAAS,EAAE,KAAK;YAChB,WAAW,EAAE,KAAK;YAClB,GAAG,EAAE,EAAE;YACP,KAAK,EAAE,EAAE;YACT,UAAU,EAAE,EAAE;YACd,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,EAAE;YACT,UAAU,EAAE,EAAE;YACd,QAAQ,EAAE,KAAK;YACf,YAAY,EAAE,IAAI;SACnB,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,eAAe,CAAC,KAAU,EAAE,KAAa;QACvC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,eAAe,EAAE,CAAC;QAC1B,CAAC;QACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QACjC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACnC,UAAU,EAAE,CAAC,IAAI,EAAE,kBAAU,CAAC,OAAO,CAAC,CAAC,kBAAU,CAAC,QAAQ,EAAE,kBAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACzF,CAAC,CAAC;IACL,CAAC;IAED,IAAI,QAAQ;QACV,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,cAAc,CAAC,IAA8B;QAC3C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACjD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC/C,CAAC;IACH,CAAC;IAED,aAAa;QACZ,0BAA0B;QACzB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,qBAAqB,CAAC,CAAC;IAC1D,CAAC;IAED;;OAEG;IACH,YAAY;QACd;;;;;;;;mDAQ2C;QAC1C;;;;;;eAMO;IACN,CAAC;CACF;AA9UsB;IAApB,gBAAS,CAAC,QAAQ,CAAC;;2CAAoB;AACrB;IAAlB,gBAAS,CAAC,MAAM,CAAC;;yCAAkB;AAHzB,WAAW;IALvB,gBAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,WAAW,EAAE,eAAe;OACE;KAC/B,CAAC;IAoBa,wBAAM,CAAC,cAAc,CAAC;IAGtB,wBAAM,CAAC,YAAY,CAAC;IACpB,wBAAM,CAAC,cAAc,CAAC;gBAEkB;GAzB1C,WAAW,CAgVvB;AAhVY,kCAAW","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewTipsPage } from './tips-new';\nimport {SharedModule} from \"../../share/shared.module\";\n\n@NgModule({\n  declarations: [\n    NewTipsPage,\n  ],\n  imports: [\n    SharedModule,\n    IonicPageModule.forChild(NewTipsPage),\n  ],\n})\nexport class NewTipsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tips-new/tips-new.module.ts","import {Injectable, Inject} from '@angular/core';\nimport {BaseModelService} from './base-model.service';\nimport { ApiService } from \"../api/api.service\";\n\nInjectable()\nexport class AlarmModelService extends BaseModelService {\n\n  constructor(@Inject(ApiService) public api: ApiService) {\n    super(api);\n  }\n  //添加闹钟\n  alarmAdd(data?: any, callback?: any): any{\n    return this.getData('alarmAdd', data, callback);\n  }\n  //删除闹钟\n  alarmDelete(data: any, callback: any): any{\n    return this.getData('alarmDelete', data, callback);\n  }\n  //修改闹钟\n  alarmUpdate(data: any, callback: any):any{\n    return this.getData('alarmUpdate',data, callback);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/share/service/model/alarm-model.service.ts","import {Component, ViewChild, Inject} from '@angular/core';\nimport {IonicPage, NavController, NavParams, ModalController, Events, AlertController} from 'ionic-angular';\nimport {PublicSelectComponent} from \"../public-select/public-select\";\nimport {UserModelService} from \"../../share/service/model/user-model.service\"\nimport {ContactsList} from \"../../share/entity/user-entity\";\nimport {selectSettings, selectOptionModel} from \"../../share/entity/select-entity\";\nimport {EventNameConfig} from \"../../share/config/event-name.config\";\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport {AlarmModelService} from '../../share/service/model/alarm-model.service';\nimport * as AlarmConfig from '../../share/config/alarm.config';\n/**\n * Generated class for the NewTipsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'new-tips',\n  segment: 'new-tips',\n})\n@Component({\n  selector: 'page-new-tips',\n  templateUrl: 'tips-new.html',\n  providers: [AlarmModelService]\n})\nexport class NewTipsPage {\n  public content: string = '';\n  @ViewChild('goBack') public goBack: any;\n  @ViewChild('time') public time: any;\n  private optionData: any;\n  private contactList: {Cooperator: Array<ContactsList>; Friend: Array<ContactsList>; Internal: Array<ContactsList>};\n  private inviteDropDownObj: any;\n  private updateTips: boolean = false;\n  private currentIndex: number = -1;\n  private selectedArr: Array<any> = [];\n  private shareToArr: Array<string> = [];\n  private fGroup: FormGroup;\n  public hasClickOnSend: boolean;\n  public alarmTime: string;\n\n  constructor(public navCtrl: NavController,\n              public modalCtrl: ModalController,\n              public alertCtrl: AlertController,\n              public formBuilder: FormBuilder,\n              @Inject('user.service') public  userService: any,\n              public navParams: NavParams,\n              private event: Events,\n              @Inject('app.config') public config: any,\n              @Inject('date.service') public dateService: any,\n              public alarmModelService: AlarmModelService,\n              public userModelService: UserModelService) {\n    this.optionData = this.navParams.data;\n    /* {\n     updateTips: true,\n     data: tips,\n     currentIndex: index\n     }*/\n    console.log('new tips data::', this.optionData);\n    if (this.optionData.hasOwnProperty('tipData') && this.optionData.tipData.updateTips) {\n      this.updateTips = true;\n      this.currentIndex = this.optionData.tipData.currentIndex;\n      this.content = this.optionData.tipData.data.content;\n      //初始化dropdown\n      this.optionData.tipData.data.sharedToInfoList.forEach((item: any) => {\n        let tmp: selectOptionModel = this.initDropDownModel();\n        tmp.id = item.uid;\n        tmp.group = '';\n        tmp.childGroup = '';\n        tmp.isCurrent = true;\n        tmp.key = item.work_name ? item.work_name : item.p_name ? item.p_name : '';\n        tmp.label = item.work_name ? item.work_name : item.p_name;\n        tmp.desc = (item.company_name ? item.company_name : '') + ' ' + (item.p_name ? item.p_name : '');\n        tmp.imageLabel = item.user_profile_path ? item.user_profile_path : 'NaN';\n        this.selectedArr.push(tmp);\n      });\n\n    } else {\n      this.updateTips = false;\n    }\n    this.initForm();\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad NewTipsPage');\n    this.getContactList();\n    this.dealEvent();\n  }\n\n  /**\n   * 点击选择分享人\n   * @param event\n   */\n  showPublicSelect(event: any) {\n    if (event) {\n      event.stopPropagation();\n    }\n    let modal = this.modalCtrl.create(PublicSelectComponent, {\n      data: this.inviteDropDownObj,\n      componentName: 'new-tips',\n      selectedArray: this.selectedArr\n    });\n    modal.present();\n  }\n\n  /**\n   * 获取联系人列表\n   */\n  getContactList() {\n    this.userService.getContactList((contactList: {\n      Cooperator: Array<ContactsList>,\n      Friend: Array<ContactsList>,\n      Internal: Array<ContactsList>\n    }) => {\n      if (contactList) {\n        this.contactList = contactList;\n        console.log('从本地缓存获取联系人列表', this.contactList);\n        this.buildForDropDownData();\n      }\n      //将当前用户信息添加\n    })\n  }\n\n  /**\n   * 生成dropDown数据对象\n   */\n  buildForDropDownData() {\n    this.inviteDropDownObj = {\n      groupObj: {},\n      settings: {},\n    };\n    let settings: selectSettings = this.initDropDownSetting();\n    settings.group.push({key: 'personal', 'title': 'Personal'}, {key: 'business', 'title': 'Business'});\n    settings.childGroup.push({key: 'friend', 'title': 'Friend', parentKey: 'personal'});\n    let inviteFriendList: Array<selectOptionModel> = [];\n    this.dealDropdownObj('Friend', 'personal', 'friend', inviteFriendList);\n    settings.childGroup.push({key: 'cooperator', 'title': 'Cooperator', parentKey: 'business'});\n    let cooperatorList: Array<selectOptionModel> = [];\n    this.dealDropdownObj('Cooperator', 'business', 'cooperator', cooperatorList);\n    settings.childGroup.push({key: 'internal', 'title': 'Internal', parentKey: 'business'});\n    let internalList: Array<selectOptionModel> = [];\n    this.dealDropdownObj('Internal', 'business', 'internal', internalList);\n    this.inviteDropDownObj.groupObj['friend'] = inviteFriendList;\n    this.inviteDropDownObj.groupObj['cooperator'] = cooperatorList;\n    this.inviteDropDownObj.groupObj['internal'] = internalList;\n    this.inviteDropDownObj.settings = settings;\n    console.log('传进来的参数', this.inviteDropDownObj);\n  }\n\n  /**\n   * 生成dropdown 对象\n   * @param key\n   * @param group\n   * @param childGroup\n   * @param listObj\n   */\n  dealDropdownObj(key: string, group: string, childGroup: string, listObj: any) {\n    console.log('生成dropdown 对象', this.contactList);\n    this.contactList[key].forEach((item: any) => {\n      let tmp: selectOptionModel = this.initDropDownModel();\n      tmp.id = item.psid || item.uuid;\n      tmp.group = group;\n      tmp.childGroup = childGroup;\n      tmp.key = item.work_name ? item.work_name : item.p_name ? item.p_name : '';\n      tmp.label = item.work_name ? item.work_name : item.p_name;\n      tmp.desc = (item.company_name ? item.company_name : '') + ' ' + (item.p_name ? item.p_name : '');\n      tmp.imageLabel = item.user_profile_path ? item.user_profile_path : 'NaN';\n      listObj.push(tmp);\n    });\n  }\n\n  /**\n   * 新建tips接口\n   * @param event\n   */\n  sendTo() {\n    this.hasClickOnSend = true;\n    if (!this.fGroup.valid) {\n      return;\n    }\n    if (!this.updateTips) {\n      this.addTips();\n    } else {\n      this.editTips();\n    }\n  }\n\n  /**\n   * 修改tips\n   */\n  editTips() {\n    console.log(this.optionData, 'update tips');\n    if (this.updateTips && this.optionData.tipData.data) {\n      console.log(this.optionData.tipData.data, 'tips');\n      this.optionData.tipData.data.content = this.content;\n      let sendObj = {\n        content: this.content,\n        tip_id: this.optionData.tipData.data.rid\n      };\n      this.userModelService.updateTips({data: sendObj}, (response) => {\n        console.log(response, \"update tips response\");\n        if (response && response.status == 1) {\n          let alert = this.alertCtrl.create({\n            title: 'EDIT TIPS SUCCESS',\n            subTitle: '点击回到tips 详情页',\n            buttons: [\n              {\n                text: 'OK',\n                handler: () => {\n                  this.goBack.nativeElement.click();\n                  console.log('update clicked');\n                  //事件传出数据\n                  this.event.publish(EventNameConfig.UPDATE_TIPS, {\n                    param: 'update-tips',\n                    data: {tips: this.optionData.tipData.data, currentIndex: this.currentIndex}\n                  });\n                }\n              }\n            ]\n          });\n          alert.present();\n        } else {\n          alert('update fail');\n        }\n      })\n    }\n  }\n\n  /**\n   * 添加tips\n   */\n  addTips() {\n    let sendObj = {\n      'content': this.content,\n      'type': 1,\n      'shared_to': this.shareToArr,\n      'promoted': true,  //是否在桌面显示\n      'created': new Date().getTime(),\n      'rid': ''\n    };\n    console.log(sendObj, 'send to new tips');\n    this.userModelService.newTips({data: sendObj}, (response) => {\n      if (response && response.hasOwnProperty('status') && response.status == 1) {\n        if (response.hasOwnProperty('data')) {\n          sendObj.rid = response.data;\n          this.goBack.nativeElement.click();\n          console.log(response, \"tips add\");\n          //事件传出数据\n          this.event.publish(EventNameConfig.ADD_TIPS, {param: 'home-tips', data: sendObj});\n        }\n      } else {\n        //todo:新建tips失败\n      }\n    });\n  }\n\n  /**\n   * 接受事件\n   */\n  dealEvent() {\n    // this.event.subscribe(EventNameConfig.PUBLIC_SELECT, (params: any) => {\n    //   let param = params.param;\n    //   switch (param) {\n    //     case 'new-tips' :\n    //       this.selectedArr = params.data;\n    //       this.shareToArr = [];\n    //       for (let i = 0; i < this.selectedArr.length; i++) {\n    //         this.shareToArr.push(this.selectedArr[i].id);\n    //       }\n    //\n    //       break;\n    //   }\n    // });\n  }\n\n  initDropDownSetting() {\n    return {\n      enableSearch: true,\n      isMultiple: true,\n      group: [],\n      childGroup: [],\n      readonly: this.updateTips ? true : false,\n      searchPH: 'Search',\n    };\n  }\n\n  initDropDownModel() {\n    return {\n      id: '', // 唯一标识\n      isCurrent: false,\n      hasFiltered: false,\n      key: '',\n      label: '',\n      imageLabel: '',   // '' - 空值，不显示 | 'http://XXXX.png' 显示小图片 | 'NaN' 显示首字母\n      desc: '',\n      group: '',\n      childGroup: '',\n      disabled: false,\n      isAbleRemove: true,\n    };\n  }\n\n  /**\n   * 删除share to\n   * @param event\n   * @param index\n   */\n  onDeleteShareTo(event: any, index: number) {\n    if (event) {\n      event.stopPropagation();\n    }\n    this.shareToArr.splice(index, 1);\n    this.selectedArr.splice(index, 1);\n  }\n\n  initForm() {\n    this.fGroup = this.formBuilder.group({\n      'fContent': [null, Validators.compose([Validators.required, Validators.maxLength(200)])],\n    });\n  }\n\n  get fContent() {\n    return this.fGroup.get('fContent');\n  }\n\n  /**\n   * 选人发生变化\n   */\n  selectedChange(data: Array<selectOptionModel>) {\n    this.selectedArr = data;\n    this.shareToArr = [];\n    for (let i = 0; i < this.selectedArr.length; i++) {\n      this.shareToArr.push(this.selectedArr[i].id);\n    }\n  }\n\n  initAlarmTime() {\n   /* let now = new Date();*/\n    this.dateService.getNowUTCString('YYYY-MM-DDTHH:mmTZD');\n  }\n\n  /**\n   * 设置tips闹钟\n   */\n  setTipsAlarm() {\n/*    let time = new Date(this.alarmTime).getTime();\n    let data = {\n      \"uid\": '',\n      \"form\": AlarmConfig.FORM_TIPS,\n      \"rid\": this.optionData.tipData.data.rid,\n      \"effective_time\": time / 1000,\n      \"mode\": AlarmConfig.MODE_FIX\n    };\n    console.log(new Date(time), \"*****\");*/\n /*   this.alarmModelService.alarmAdd({data: data}, (v) => {\n      if(v && v.status == 1){\n        //todo:设置闹钟成功\n      }else{\n        //todo：设置闹钟失败\n      }\n    })*/\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tips-new/tips-new.ts"],"sourceRoot":""}