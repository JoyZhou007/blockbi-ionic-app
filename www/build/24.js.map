{"version":3,"sources":["../../src/pages/chat-new-channel/chat-new-channel.module.ts","../../src/pages/chat-new-channel/chat-new-channel.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {ChatNewChannelComponent} from './chat-new-channel';\nimport {SharedModule} from \"../../share/shared.module\";\n\n@NgModule({\n  declarations: [\n    ChatNewChannelComponent,\n  ],\n  imports: [\n    SharedModule,\n    IonicPageModule.forChild(ChatNewChannelComponent)\n  ],\n})\nexport class ChatNewChannelPageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-new-channel/chat-new-channel.module.ts","import {Component, OnInit, Inject} from '@angular/core';\nimport {IonicPage, NavController, NavParams, ModalController, Events} from 'ionic-angular';\nimport {ContactsList} from \"../../share/entity/user-entity\";\nimport {selectSettings, selectOptionModel} from \"../../share/entity/select-entity\";\nimport {FormGroup, FormBuilder, Validators} from \"@angular/forms\";\nimport {NotificationEntity} from \"../../share/entity/notification-entity\";\nimport {NotificationConfig} from \"../../share/config/notification.config\";\nimport {NotificationService} from \"../../share/service/index\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n/**\n * Generated class for the NewChannelPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage({\n  name: 'chat-new-channel',\n  segment: 'chat-new-channel',\n})\n@Component({\n  templateUrl: 'chat-new-channel.html',\n  selector: 'page-chat-new-channel',\n})\nexport class ChatNewChannelComponent implements OnInit {\n\n  public currentForm: number;\n  private contactList: {Cooperator: Array<ContactsList>; Friend: Array<ContactsList>; Internal: Array<ContactsList>};\n  private inviteDropDownObj: any;\n  public selectedPeopleArray: Array<selectOptionModel> = [];\n  private channelName: string = '';\n  private channelTopic: string = '';\n  private fGroup: FormGroup;\n  private hasClickOnSend: boolean;\n  private subscription: Subscription;\n\n  constructor(public navCtrl: NavController,\n              public formBuilder: FormBuilder,\n              public modalCtrl: ModalController,\n              public events: Events,\n              @Inject('user.service') public  userService: any,\n              @Inject(NotificationService) public  notificationService: NotificationService,\n              @Inject('app.config') public  appConfig: any,\n              @Inject('im.service') public  imService: any,\n              public navParams: NavParams) {\n  }\n\n  ionViewDidLoad() {\n    this.subscription = this.notificationService.getNotification().subscribe(\n      (message: any) => {\n        this.dealWebSocketNotification(message);\n      });\n  }\n\n\n  ngOnInit(): void {\n    this.currentForm = 1;\n    this.getContactList();\n    this.initForm();\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * 实例选择设置对象\n   * @returns {{enableSearch: boolean, isMultiple: boolean, group: Array, childGroup: Array, readonly: boolean, searchPH: string}}\n   */\n  initSelectSettings() {\n    return {\n      enableSearch: true,\n      isMultiple: true,\n      group: [],\n      childGroup: [],\n      readonly: false,\n      searchPH: 'Search',\n    };\n  }\n\n  /**\n   * 实例选择项对象\n   * @returns {{id: string, isCurrent: boolean, hasFiltered: boolean, key: string, label: string, imageLabel: string, desc: string, group: string, childGroup: string, disabled: boolean, isAbleRemove: boolean}}\n   */\n  initSelectModel() {\n    return {\n      id: '', // 唯一标识\n      isCurrent: false,\n      hasFiltered: false,\n      key: '',\n      label: '',\n      imageLabel: '',   // '' - 空值，不显示 | 'http://XXXX.png' 显示小图片 | 'NaN' 显示首字母\n      desc: '',\n      group: '',\n      childGroup: '',\n      disabled: false,\n      isAbleRemove: true,\n    };\n  }\n\n\n\n\n  /**\n   * 处理IM返回消息\n   */\n  dealWebSocketNotification(message: NotificationEntity) {\n    //新建群IM返回\n    switch (message.act) {\n      case NotificationConfig.ACT_CHAT_NOTICE_GROUP_CREATE:\n        if (message.status == 1) {\n          this.navCtrl.pop()\n        }\n        break;\n    }\n  }\n\n\n  /**\n   * 切换新建群组的类型\n   */\n  switchNewChannelType(event: any, form: number) {\n    event.stopPropagation();\n    if (this.currentForm != form) {\n      this.currentForm = form;\n      this.selectedPeopleArray = [];\n      this.buildForDropDownData();\n    }\n  }\n\n\n  /**\n   * 获取联系人列表\n   */\n  getContactList() {\n    this.userService.getContactList((contactList: {\n      Cooperator: Array<ContactsList>,\n      Friend: Array<ContactsList>,\n      Internal: Array<ContactsList>\n    }) => {\n      if (contactList) {\n        this.contactList = contactList;\n        this.buildForDropDownData();\n      }\n      //将当前用户信息添加\n    })\n  }\n\n\n  /**\n   * 生成dropDown数据对象\n   */\n  buildForDropDownData() {\n    this.inviteDropDownObj = {\n      groupObj: {},\n      settings: {},\n    };\n    let settings: selectSettings = this.initSelectSettings();\n    if (this.currentForm == 1) {\n      //friend\n      settings.group.push({key: 'friend', 'title': 'Friend'});\n      let inviteFriendList: Array<selectOptionModel> = [];\n      this.contactList['Friend'].forEach((item: any) => {\n        let tmp: selectOptionModel = this.initSelectModel();\n        tmp.id = item.uuid;\n        tmp.group = 'friend';\n        tmp.key = item.work_name ? item.work_name : item.p_name ? item.p_name : '';\n        tmp.label = item.work_name ? item.work_name : item.p_name;\n        tmp.desc = (item.company_name ? item.company_name : '') + ' ' + (item.p_name ? item.p_name : '');\n        tmp.imageLabel = item.user_profile_path ? item.user_profile_path : 'NaN';\n        inviteFriendList.push(tmp);\n      });\n      this.inviteDropDownObj.groupObj['friend'] = inviteFriendList;\n      this.inviteDropDownObj.settings = settings;\n    } else if (this.currentForm == 2) {\n      //Internal\n      settings.group.push({key: 'internal', 'title': 'Internal'});\n      let inviteInternalList: Array<selectOptionModel> = [];\n      this.contactList['Internal'].forEach((item: any) => {\n        let tmp: selectOptionModel = this.initSelectModel();\n        tmp.id = item.psid;\n        tmp.group = 'internal';\n        tmp.key = item.work_name ? item.work_name : item.p_name ? item.p_name : '';\n        tmp.label = item.work_name ? item.work_name : item.p_name;\n        tmp.desc = (item.company_name ? item.company_name : '') + ' ' + (item.p_name ? item.p_name : '');\n        tmp.imageLabel = item.user_profile_path ? item.user_profile_path : 'NaN';\n        inviteInternalList.push(tmp);\n      });\n      this.inviteDropDownObj.groupObj['internal'] = inviteInternalList;\n      //cooperator\n      settings.group.push({key: 'cooperator', 'title': 'Cooperator'});\n      let inviteCooperatorList: Array<selectOptionModel> = [];\n      this.contactList['Cooperator'].forEach((item: any) => {\n        let tmp: selectOptionModel = this.initSelectModel();\n        tmp.id = item.psid;\n        tmp.group = 'cooperator';\n        tmp.key = item.work_name ? item.work_name : item.p_name ? item.p_name : '';\n        tmp.label = item.work_name ? item.work_name : item.p_name;\n        tmp.desc = (item.company_name ? item.company_name : '') + ' ' + (item.p_name ? item.p_name : '');\n        tmp.imageLabel = item.user_profile_path ? item.user_profile_path : 'NaN';\n        inviteCooperatorList.push(tmp);\n      });\n      this.inviteDropDownObj.groupObj['cooperator'] = inviteCooperatorList;\n      this.inviteDropDownObj.settings = settings;\n    }\n  }\n\n\n  /**\n   * 选人发生变化\n   */\n  selectedChange(data: Array<selectOptionModel>) {\n    this.selectedPeopleArray = data;\n  }\n\n\n  /**\n   * 确认建群 向IM发送\n   */\n  confirmCreate(event: any) {\n    event.stopPropagation();\n    this.hasClickOnSend = true;\n    if (!this.fGroup.valid) {\n      return;\n    }\n    if (!this.selectedPeopleArray.length) return false;\n    let selectedMember: Array<any> = [];\n    for (let i in this.selectedPeopleArray) {\n      let obj = {\n        uid: this.selectedPeopleArray[i].id\n      };\n      selectedMember.push(obj)\n    }\n    let sendData: any = {\n      name: this.channelName,\n      topic: this.channelTopic,\n      members: selectedMember,\n      form: this.currentForm\n    };\n    this.imService.sendCreateGroup(sendData);\n  }\n\n\n  /**\n   * 表单验证\n   */\n  initForm() {\n    this.fGroup = this.formBuilder.group({\n      'channelNameReg': [null, Validators.compose([Validators.required])],\n    });\n  }\n\n  get channelNameReg() {\n    return this.fGroup.get('channelNameReg');\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-new-channel/chat-new-channel.ts"],"sourceRoot":""}