{"version":3,"sources":["../../src/pages/contact-add-friend/contact-add-friend.module.ts","../../src/share/config/user.config.ts","../../src/pages/contact-add-friend/contact-add-friend.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ContactAddFriendPage } from './contact-add-friend';\n\n@NgModule({\n  declarations: [\n    ContactAddFriendPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ContactAddFriendPage),\n  ],\n})\nexport class ContactAddFriendPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact-add-friend/contact-add-friend.module.ts","//判断是属于个人/公司\nexport const USER_FORM_PERSONAL: string = \"1\";\nexport const USER_FORM_COMPANY: string = \"2\";\nexport const USER_GENDER_FEMALE: string = \"2\";\nexport const USER_GENDER_MALE: string = \"1\";\nexport const USER_GENDER_OTHER: string = \"3\";\n\nexport const USER_SHOW_STATE_IN_WORKING: number = 1;\nexport const USER_SHOW_STATE_IN_MEETING: number = 2;\nexport const USER_SHOW_STATE_VACATION: number = 3;\nexport const USER_SHOW_STATE_BUSINESS_TRAVEL: number = 4;\n\n\n// WEBPACK FOOTER //\n// ./src/share/config/user.config.ts","import {Component, Inject} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport * as UserConfig from '../../share/config/user.config';\nimport {NotificationService} from \"../../share/service/common/notification.service\";\nimport {NotificationConfig} from \"../../share/config/notification.config\";\nimport {NotificationEntity} from \"../../share/entity/notification-entity\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n/**\n * Generated class for the ContactAddFriendPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-add-friend',\n  templateUrl: 'contact-add-friend.html',\n})\nexport class ContactAddFriendPage {\n  public friend: any;\n  public friendType: number; //1 私人 2 工作\n  public remark: string;\n  private subscription: Subscription;\n\n\n  constructor(public navCtrl: NavController,\n              @Inject('app.config') public config: any,\n              @Inject(NotificationService) public notificationService: NotificationService,\n              @Inject('im.service') public imService: any,\n              public navParams: NavParams) {\n    if (this.navParams.data && this.navParams.data.data) {\n      this.friend = this.navParams.data.data;\n      if (this.navParams.data.hasOwnProperty('friendType')) {\n        this.friendType = this.navParams.data.friendType;\n      }\n    }\n    this.subscription = this.notificationService.getNotification().subscribe(\n      (message: any) => {\n        this.dealWebSocketNotification(message);\n      });\n  }\n\n  ionViewDidLoad() {\n\n  }\n\n  /**\n   * 页面销毁\n   */\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n\n  /**\n   * IM通知处理\n   */\n  dealWebSocketNotification(message: NotificationEntity) {\n    switch (message.act) {\n      case NotificationConfig.ACT_USER_REQUEST_ADD_FRIEND:  //删除群成员\n        if (message.status == 1 && message.hasOwnProperty('data') && message.data.sent == 1) {\n          this.navCtrl.pop();\n        }\n        break;\n    }\n  }\n\n\n  /**\n   * 发送申请好友im\n   */\n  sendTo() {\n    let data: any = {\n      friend: {\n        uuid: this.friendType == parseInt(UserConfig.USER_FORM_PERSONAL) ? this.friend.uuid : '',\n        psid: this.friendType == parseInt(UserConfig.USER_FORM_COMPANY) ? this.friend.psid : '',\n      },\n      remark: this.remark,  //请求留言信息\n      user_relation: [this.friendType],  //好友关系\n      company_name: this.friendType == parseInt(UserConfig.USER_FORM_PERSONAL) ? '' : this.friend.company_name  //公司名称\n    };\n    this.imService.doApplyFriend(data)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact-add-friend/contact-add-friend.ts"],"sourceRoot":""}